{% extends 'tables.html' %}

{% block table %}
<div class="container-fluid border border-primary my-1 py-5 ps-5 border-top-0 border-bottom-0 ">
    <pre># Create models group avilines

-- Create model Trip

--

CREATE TABLE trip (id_trip integer NOT NULL PRIMARY KEY,
		   plane varchar(30) NOT NULL,
	           town_from varchar(30) NOT NULL,
		   town_to varchar(30) NOT NULL,
		   time_out timestamp with time zone NOT NULL,
		   time_in timestamp with time zone NOT NULL,
		   company_id bigint NOT NULL);
--

-- Create model Company

--

CREATE TABLE company(id bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
		     name varchar(30) NOT NULL);
--

-- Create model Pass_in_trip

--

CREATE TABLE pass_in_trip (id bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
		           place varchar(5) NOT NULL,
			   passenger_id bigint NOT NULL,
                           trip_id integer NOT NULL);

--

-- Create model Passenger

--

CREATE TABLE passenger(id bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
		       name varchar(30) NOT NULL);




ALTER TABLE trip
ADD CONSTRAINT trip_company_id_d2b4c611_fk_company_id FOREIGN KEY(company_id)
REFERENCES company(id)
DEFERRABLE INITIALLY DEFERRED;

CREATE INDEX trip_company_id_d2b4c611 ON trip(company_id);

ALTER TABLE pass_in_trip
ADD CONSTRAINT pass_in_tri_passenger_id_06bf8590_fk_
FOREIGN KEY(passenger_id) REFERENCES passenger(id)
DEFERRABLE INITIALLY DEFERRED;

ALTER TABLE pass_in_trip
ADD CONSTRAINT pass_in_trip_trip_id_4cbdf5e7_fk_trip_id_trip
FOREIGN KEY(trip_id)
REFERENCES trip (id_trip) DEFERRABLE INITIALLY DEFERRED;

CREATE INDEX pass_in_trip_passenger_id_06bf8590 ON pass_in_trip (passenger_id);

CREATE INDEX pass_in_trip_trip_id_4cbdf5e7" ON pass_in_trip (trip_id);



### INSERT VALUES INTO TABLE

INSERT INTO company
VALUES
(1, 'Don_avia'),
(2, 'Ranair'),
(3, 'Dale_avia'),
(4, 'air_France'),
(5, 'British_AW');


INSERT INTO passenger
VALUES
(1,	'Bruce Willis'),
(2,	'George Clooney'),
(3,	'Kevin Costner'),
(4,	'Donald Sutherland'),
(5,	'Jennifer Lopez'),
(6,	'Ray Liotta'),
(7,	'Samuel L. Jackson'),
(8,	'Nikole Kidman'),
(9,	'Alan Rickman'),
(10,	'Kurt Russell'),
(11,  'Harrison Ford'),
(12,	'Russell Crowe'),
(13,	'Steve Martin'),
(14,	'Michael Caine'),
(15,	'Angelina Jolie'),
(16,	'Mel Gibson'),
(17,	'Michael Douglas'),
(18,	'John Travolta'),
(19,	'Sylvester Stallone'),
(20,	'Tommy Lee Jones'),
(21,	'Catherine Zeta-Jones'),
(22,	'Antonio Banderas'),
(23,	'Kim Basinger'),
(24,	'Sam Neill'),
(25,	'Gary Oldman'),
(26,	'ClINT Eastwood'),
(27,	'Brad Pitt'),
(28,	'Johnny Depp'),
(29,	'Pierce Brosnan'),
(30,	'Sean Connery'),
(31,	'Bruce Willis'),
(37,	'Mullah Omar'),
(38,	'Leonardo Grant-Baker');


INSERT INTO trip(
id_trip, company_id, plane, town_from, town_to, time_out, time_in
)
VALUES
(1100,	4,	'Boeing',	'Rostov',	'Paris',	'1900-01-01T14:30:00.000Z', 	'1900-01-01T17:50:00.000Z'),
(1101,	4,	'Boeing',	'Paris',	'Rostov',	'1900-01-01T08:12:00.000Z', 	'1900-01-01T11:45:00.000Z'),
(1123,	3,	'TU-154',	'Rostov',	'Vladivostok',	'1900-01-01T16:20:00.000Z',	'1900-01-02T03:40:00.000Z'),
(1124,	3,	'TU-154',	'Vladivostok',	'Rostov',	'1900-01-01T09:00:00.000Z',	'1900-01-01T19:50:00.000Z'),
(1145,	2,	'IL-86',	'Moscow',	'Rostov',	'1900-01-01T09:35:00.000Z',	'1900-01-01T11:23:00.000Z'),
(1146,	2,	'IL-86',	'Rostov',	'Moscow',	'1900-01-01T17:55:00.000Z',	'1900-01-01T20:01:00.000Z'),
(1181,	1,	'TU-134',	'Rostov',	'Moscow',	'1900-01-01T06:12:00.000Z',	'1900-01-01T08:01:00.000Z'),
(1182,	1,	'TU-134',	'Moscow',	'Rostov',	'1900-01-01T12:35:00.000Z',	'1900-01-01T14:30:00.000Z'),
(1187,	1,	'TU-134',	'Rostov',	'Moscow',	'1900-01-01T15:42:00.000Z',	'1900-01-01T17:39:00.000Z'),
(1188,	1,	'TU-134',	'Moscow',	'Rostov',	'1900-01-01T22:50:00.000Z',	'1900-01-02T00:48:00.000Z'),
(1195,	1,	'TU-154',	'Rostov',	'Moscow',	'1900-01-01T23:30:00.000Z',	'1900-01-02T01:11:00.000Z'),
(1196,	1,	'TU-154',	'Moscow',	'Rostov',	'1900-01-01T04:00:00.000Z',	'1900-01-01T05:45:00.000Z'),
(7771,	5,	'Boeing',	'London',	'Singapore',	'1900-01-01T01:00:00.000Z',	'1900-01-01T11:00:00.000Z'),
(7772,	5,	'Boeing',	'Singapore',	'London',	'1900-01-01T12:00:00.000Z',	'1900-01-02T02:00:00.000Z'),
(7773,	5,	'Boeing',	'London',	'Singapore',	'1900-01-01T03:00:00.000Z',	'1900-01-01T13:00:00.000Z'),
(7774,	5,	'Boeing',	'Singapore',	'London',	'1900-01-01T14:00:00.000Z',	'1900-01-02T06:00:00.000Z'),
(7775,	5,	'Boeing',	'London',	'Singapore',	'1900-01-01T09:00:00.000Z',	'1900-01-01T20:00:00.000Z'),
(7776,	5,	'Boeing',	'Singapore',	'London',	'1900-01-01T18:00:00.000Z',	'1900-01-02T08:00:00.000Z'),
(7777,	5,	'Boeing',	'London',	'Singapore',	'1900-01-01T18:00:00.000Z',	'1900-01-02T06:00:00.000Z'),
(7778,	5,	'Boeing',	'Singapore',	'London',	'1900-01-01T22:00:00.000Z',	'1900-01-02T12:00:00.000Z'),
(8881,	5,	'Boeing',	'London',	'Paris',	'1900-01-01T03:00:00.000Z',	'1900-01-01T04:00:00.000Z'),
(8882,	5,	'Boeing',	'Paris',	'London',	'1900-01-01T22:00:00.000Z',	'1900-01-01T23:00:00.000Z');


INSERT INTO pass_in_trip(
id, trip_id, passenger_id, place
)
VALUES
(24,	7771,	11,	'1b'),
(25,	7771,	11,	'5a'),
(26,	7772,	12,	'1d'),
(27,	7773,	13,	'2d'),
(28,	7772,	13,	'1b'),
(29,	8882,	14,	'3d'),
(30,	7771,	14,	'4d'),
(31,	7771,	14,	'5d'),
(32,	7772,	14,	'1c');
</pre>
</div>

{% endblock table %}